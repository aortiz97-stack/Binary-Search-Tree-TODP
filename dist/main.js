(()=>{"use strict";function l(l){return l%2==0?l/2-1:l/2-1.5}function t(i,e,n=[]){let h,d=i,r=e;if(0===d.length&&0===r.length)return n;function u(t){h=t.shift();const i=l(h.length),e=i+1;return d=t.slice(0,i+1),r=t.slice(e),h}return void 0===d[0]&&void 0!==r[0]?h=u(r):void 0!==d[0]&&void 0===r[0]?h=u(d):d[0]<r[0]?h=d.shift():d[0]>=r[0]&&(h=r.shift()),n.push(h),t(d,r,n)}function i(e){if(e.length<2)return e;const n=l(e.length),h=n+1;return t(i(e.slice(0,n+1)),i(e.slice(h)))}const e=l=>({data:l,leftChild:null,rightChild:null,parent:null}),n=(l=>{let t=(()=>{let t=new Set(l);return t=Array.from(t),i(t)})();const n=()=>t,h=l=>{t=l},d=(l=0,t=n().length-1)=>{if(l>t)return null;const i=Math.floor((t+l)/2),h=e(n()[i]),r=d(l,i-1),u=d(i+1,t);return h.leftChild=r,h.rightChild=u,null!==r&&(r.parent=h),null!==u&&(u.parent=h),h},r=(l,t="",i=!0)=>{null!==l.rightChild&&r(l.rightChild,`${t}${i?"│   ":"    "}`,!1),console.log(`${t}${i?"└── ":"┌── "}${l.data}`),null!==l.leftChild&&r(l.leftChild,`${t}${i?"    ":"│   "}`,!0)};let u=d();const a=()=>u,s=l=>{u=l},o=(l,t=a())=>{const d=e(l);n().push(l);const r=i(Array.from(new Set(n())));h(r);const u=t;return null===u||d.data===u.data?u:d.data<u.data?null===u.leftChild?(u.leftChild=d,d.parent=u,u):o(l,u.leftChild):d.data>u.data?null===u.rightChild?(u.rightChild=d,d.parent=u,u):o(l,u.rightChild):u},C=(l,t=[a()])=>{const i=t,e=t.pop();return e.data===l?e:null===e.leftChild&&null===e.rightChild&&e.data!==l&&0===t.length?null:(null!==e.leftChild&&i.push(e.leftChild),null!==e.rightChild&&i.push(e.rightChild),C(l,i))},f=(l,t=[a().data],i=[])=>{const e=t.shift(),n=C(e);return i.includes(e)||i.push(e),0===t.length&&null===n.leftChild&&null===n.rightChild?void 0!==l?l(i):i:(null!==n.leftChild&&t.push(n.leftChild.data),null!==n.rightChild&&t.push(n.rightChild.data),f(l,t,i))},p=(l=[a().data],t=[])=>{const i=l.pop(),e=C(i);return t.includes(i)||t.push(i),null===e.leftChild&&null===e.rightChild&&0===l.length?t:(null!==e.rightChild&&l.push(e.rightChild.data),null!==e.leftChild&&l.push(e.leftChild.data),p(l,t))},g=(l=[a().data],t=[])=>{if(0===l.length)return t;const i=l.pop(),e=C(i);if(null===i){const i=l.pop();return t.push(i),g(l,t)}if(null===e)return t;if(null===e.leftChild&&null===e.rightChild){t.push(i);const e=l.pop();return void 0!==e&&t.push(e),g(l,t)}return null===e.leftChild?(null!==e.rightChild&&l.push(e.rightChild.data),t.push(i),g(l,t)):null===e.rightChild?(l.push(null),l.push(i),null!==e.leftChild&&l.push(e.leftChild.data),g(l,t)):(null!==e.rightChild&&l.push(e.rightChild.data),l.push(i),l.push(e.leftChild.data),g(l,t))},c=(l=[a().data],t=[])=>{if(0===l.length)return t;let i=l.pop(),e=C(i);return null===i&&(i=l.pop(),e=C(i)),null===e?t:null===e.leftChild&&null===e.rightChild||function(){const l=null!==e.rightChild&&null!==e.leftChild&&t.includes(e.leftChild.data)&&t.includes(e.rightChild.data),i=null!==e.rightChild&&null===e.leftChild&&t.includes(e.rightChild.data),n=null!==e.leftChild&&null===e.rightChild&&t.includes(e.leftChild.data);return l||i||n}()?(t.push(i),c(l,t)):null===e.rightChild&&null!==e.leftChild?(t.includes(i)||l.push(i),l.push(null),t.includes(e.leftChild.data)||l.push(e.leftChild.data),c(l,t)):null===e.leftChild&&null!==e.rightChild&&t.includes(e.rightChild.data)?(t.push(i),c(l,t)):(l.push(i),null===e.rightChild||t.includes(e.rightChild.data)||l.push(e.rightChild.data),null===e.leftChild||t.includes(e.leftChild.data)||l.push(e.leftChild.data),c(l,t))};return{getSortedArray:n,getMainRoot:a,prettyPrint:r,insertNode:o,levelOrder:f,find:C,deleteNode:l=>{const t=C(l);if(t.data===a().data){const l=Math.floor((0+n().length-1)/2);n().splice(l,1),s(d())}else if(null===t.leftChild&&null===t.rightChild){const{parent:l}=t;l.leftChild===t?l.leftChild=null:l.rightChild===t&&(l.rightChild=null),t.parent=null}else{t.parent=null;const l=l=>l===t.data,e=n().findIndex(l);n().splice(e,1);const r=i(Array.from(new Set(n())));h(r),s(d())}},preorder:p,inorder:g,postorder:c}})([1,7,4,23,8,9,4,3,5,7,9,67,6345,324]);n.insertNode(63),n.insertNode(65),n.insertNode(64),n.insertNode(0),n.insertNode(1e4),n.insertNode(-1),n.insertNode(1e5),n.insertNode(-2),n.deleteNode(-2),n.deleteNode(23),n.deleteNode(67),n.deleteNode(8),n.prettyPrint(n.getMainRoot()),console.log(n.postorder())})();