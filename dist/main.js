(()=>{"use strict";function l(l){return l%2==0?l/2-1:l/2-1.5}function t(e,n,i=[]){let d,h=e,r=n;if(0===h.length&&0===r.length)return i;function u(t){d=t.shift();const e=l(d.length),n=e+1;return h=t.slice(0,e+1),r=t.slice(n),d}return void 0===h[0]&&void 0!==r[0]?d=u(r):void 0!==h[0]&&void 0===r[0]?d=u(h):h[0]<r[0]?d=h.shift():h[0]>=r[0]&&(d=r.shift()),i.push(d),t(h,r,i)}function e(n){if(n.length<2)return n;const i=l(n.length),d=i+1;return t(e(n.slice(0,i+1)),e(n.slice(d)))}const n=l=>({data:l,leftChild:null,rightChild:null,parent:null}),i=(l=>{let t=(()=>{let t=new Set(l);return t=Array.from(t),e(t)})();const i=()=>t,d=l=>{t=l},h=(l=0,t=i().length-1)=>{if(l>t)return null;const e=Math.floor((t+l)/2),d=n(i()[e]),r=h(l,e-1),u=h(e+1,t);return d.leftChild=r,d.rightChild=u,null!==r&&(r.parent=d),null!==u&&(u.parent=d),d},r=(l,t="",e=!0)=>{null!==l.rightChild&&r(l.rightChild,`${t}${e?"│   ":"    "}`,!1),console.log(`${t}${e?"└── ":"┌── "}${l.data}`),null!==l.leftChild&&r(l.leftChild,`${t}${e?"    ":"│   "}`,!0)};let u=h();const o=()=>u,s=l=>{u=l},a=(l,t=o())=>{const h=n(l);i().push(l);const r=e(Array.from(new Set(i())));d(r);const u=t;return null===u||h.data===u.data?u:h.data<u.data?null===u.leftChild?(u.leftChild=h,h.parent=u,u):a(l,u.leftChild):h.data>u.data?null===u.rightChild?(u.rightChild=h,h.parent=u,u):a(l,u.rightChild):u},C=(l,t=[o()])=>{const e=t,n=t.pop();return n.data===l?n:null===n.leftChild&&null===n.rightChild&&n.data!==l&&0===t.length?null:(null!==n.leftChild&&e.push(n.leftChild),null!==n.rightChild&&e.push(n.rightChild),C(l,e))},f=(l,t=[o().data],e=[])=>{const n=t.shift(),i=C(n);return e.includes(n)||e.push(n),0===t.length&&null===i.leftChild&&null===i.rightChild?void 0!==l?l(e):e:(null!==i.leftChild&&t.push(i.leftChild.data),null!==i.rightChild&&t.push(i.rightChild.data),f(l,t,e))},p=(l,t=[o().data],e=[])=>{const n=t.pop(),i=C(n);return e.includes(n)||e.push(n),null===i.leftChild&&null===i.rightChild&&0===t.length?void 0!==l?l(e):e:(null!==i.rightChild&&t.push(i.rightChild.data),null!==i.leftChild&&t.push(i.leftChild.data),p(t,e))},g=(l,t=[o().data],e=[])=>{if(0===t.length)return void 0!==l?l(e):e;const n=t.pop(),i=C(n);if(null===n){const l=t.pop();return e.push(l),g(t,e)}if(null===i)return void 0!==l?l(e):e;if(null===i.leftChild&&null===i.rightChild){e.push(n);const l=t.pop();return void 0!==l&&e.push(l),g(t,e)}return null===i.leftChild?(null!==i.rightChild&&t.push(i.rightChild.data),e.push(n),g(t,e)):null===i.rightChild?(t.push(null),t.push(n),null!==i.leftChild&&t.push(i.leftChild.data),g(t,e)):(null!==i.rightChild&&t.push(i.rightChild.data),t.push(n),t.push(i.leftChild.data),g(t,e))},c=(l,t=[o().data],e=[])=>{if(0===t.length)return void 0!==l?l(e):e;let n=t.pop(),i=C(n);return null===n&&(n=t.pop(),i=C(n)),null===i?void 0!==l?l(e):e:null===i.leftChild&&null===i.rightChild||function(){const l=null!==i.rightChild&&null!==i.leftChild&&e.includes(i.leftChild.data)&&e.includes(i.rightChild.data),t=null!==i.rightChild&&null===i.leftChild&&e.includes(i.rightChild.data),n=null!==i.leftChild&&null===i.rightChild&&e.includes(i.leftChild.data);return l||t||n}()?(e.push(n),c(t,e)):null===i.rightChild&&null!==i.leftChild?(e.includes(n)||t.push(n),t.push(null),e.includes(i.leftChild.data)||t.push(i.leftChild.data),c(t,e)):null===i.leftChild&&null!==i.rightChild&&e.includes(i.rightChild.data)?(e.push(n),c(t,e)):(t.push(n),null===i.rightChild||e.includes(i.rightChild.data)||t.push(i.rightChild.data),null===i.leftChild||e.includes(i.leftChild.data)||t.push(i.leftChild.data),c(t,e))},N=(l,t=[{node:l,nodeHeight:0}],e=[])=>{const n=t.pop();if(e.push(n),null===n.node.leftChild&&null===n.node.rightChild&&0===t.length){let l=0;for(let t=0;t<e.length;t+=1){const n=e[t];n.nodeHeight>l&&(l=n.nodeHeight)}return l}if(null!==n.node.rightChild){const l={node:n.node.rightChild,nodeHeight:n.nodeHeight+1};t.push(l)}if(null!==n.node.leftChild){const l={node:n.node.leftChild,nodeHeight:n.nodeHeight+1};t.push(l)}return N(l,t,e)},v=(l,t=[{node:o(),nodeDepth:0}])=>{const e=t.pop();if(e.node===l)return e.nodeDepth;if(null!==e.node.rightChild){const l={node:e.node.rightChild,nodeDepth:e.nodeDepth+1};t.push(l)}if(null!==e.node.leftChild){const l={node:e.node.leftChild,nodeDepth:e.nodeDepth+1};t.push(l)}return v(l,t)};return{getSortedArray:i,getMainRoot:o,prettyPrint:r,insertNode:a,levelOrder:f,find:C,deleteNode:l=>{const t=C(l);if(t.data===o().data){const l=Math.floor((0+i().length-1)/2);i().splice(l,1),s(h())}else if(null===t.leftChild&&null===t.rightChild){const{parent:l}=t;l.leftChild===t?l.leftChild=null:l.rightChild===t&&(l.rightChild=null),t.parent=null}else{t.parent=null;const l=l=>l===t.data,n=i().findIndex(l);i().splice(n,1);const r=e(Array.from(new Set(i())));d(r),s(h())}},preorder:p,inorder:g,postorder:c,height:N,depth:v}})([1,7,4,23,8,9,4,3,5,7,9,67,6345,324]);i.insertNode(63),i.insertNode(65),i.insertNode(64),i.insertNode(0),i.insertNode(1e4),i.insertNode(-1),i.insertNode(1e5),i.insertNode(-2),i.deleteNode(-2),i.deleteNode(23),i.deleteNode(67),i.deleteNode(8),i.prettyPrint(i.getMainRoot()),console.log(i.depth(i.find(1e5)))})();